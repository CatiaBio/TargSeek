# PureMilk Project Organization

This document describes the organization and purpose of folders in the PureMilk project.

## Core Project Structure

### üìÇ Root Files
- `Snakefile` - Main pipeline workflow definition
- `CLAUDE.md` - Project instructions for Claude Code
- `README.md` - Project documentation
- `env.yml` - Conda environment specification
- `.gitignore` - Git ignore patterns

### üìÇ Configuration (`config/`)
- `config.yaml` - Central pipeline configuration
- `login/` - API credentials (gitignored)
  - `*.example.txt` - Example credential files (tracked)
  - `*.txt` - Actual credentials (gitignored)
- `microbiome/` - Species lists and microbiome data
- `quickgo/` - GO terms and surface accessibility definitions

### üìÇ Scripts (`scripts/`)
**Active Scripts** (tracked in git):
- `bacdive_classification.py` - Gram stain classification
- `fetch_quickgo_data.py` - QuickGO API interaction
- `gene_taxa_coverage_cached.py` - Gene coverage assessment
- `fetch_uniprot_info.py` - UniProt data fetching with location enrichment
- `filter_surface_accessible_proteins.py` - Surface accessibility filtering
- `download_proteins.py` - NCBI protein sequence download
- `get_msa_sequences.py` - MSA sequence preparation
- `filter_*.py` - Various filtering utilities

**Archive Folders** (gitignored):
- `archive_unused/` - Deprecated/unused scripts
- `other/` - Experimental or one-off scripts

### üìÇ Data (`data/`) - GITIGNORED
**Generated by pipeline**:
- `bacdive/{analysis}/` - Species classification results
- `quickgo/{paramset}/` - GO annotation data
- `test/` - Test datasets

### üìÇ Results (`results/`) - GITIGNORED
**Pipeline outputs organized by stage**:
- `coverage/` - Gene coverage analysis results
- `uniprot_info/` - UniProt information with GO enrichment
- `proteins_to_study/` - Filtered surface-accessible proteins
- `proteins/` - Downloaded protein sequences
- `msa_sequences/` - MSA-ready sequences

### üìÇ Logs (`logs/`) - GITIGNORED
- Pipeline execution logs organized by rule/analysis

### üìÇ Support Folders
- `cache/` - Cached API responses (gitignored)
- `tmp/` - Temporary files (gitignored)
- `archive/` - Moved temporary/backup files (gitignored)
- `scripts_test/` - Test versions of scripts (gitignored)
- `jupyter_notebooks/` - Analysis notebooks (gitignored)

## Git Tracking Policy

### ‚úÖ Tracked (Important for reproducibility)
- Core workflow files (`Snakefile`, configs)
- Active scripts in `scripts/`
- Documentation (`*.md`)
- Environment specification (`env.yml`)
- Example/template files

### ‚ùå Not Tracked (Data/Generated content)
- All data and results folders
- API credentials and logs
- Cache and temporary files
- Archive and test folders
- Jupyter notebooks
- Backup files (`*original*`, `*_test*`)

## Naming Conventions

### Files
- `snake_case` for script files
- `{analysis}_{paramset}_gram_{group}` for result files
- `*.example.txt` for template files

### Folders
- `lowercase_with_underscores` for data folders
- `camelCase` avoided
- Descriptive names indicating content purpose

## Maintenance

### Regular Cleanup
```bash
# Remove temporary files
find . -name "*.pyc" -delete
find . -name "*~" -delete

# Check for large files that shouldn't be tracked
git ls-files | xargs ls -la | sort -k5 -nr | head -20
```

### Archive Management
- Move old/unused scripts to `scripts/archive_unused/`
- Keep `scripts/` folder clean with only active pipeline scripts
- Document major changes in git commits

## Development Workflow

1. **New Features**: Develop in `scripts/`, test thoroughly
2. **Deprecated Code**: Move to `scripts/archive_unused/`
3. **Configuration Changes**: Update `config.yaml`, document in commits
4. **Data Updates**: Ensure proper gitignore coverage

This organization ensures a clean, maintainable codebase while preserving development history and excluding large data files from version control.